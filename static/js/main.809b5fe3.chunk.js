(this.webpackJsonpreactdragdropdesign=this.webpackJsonpreactdragdropdesign||[]).push([[0],{17:function(e,t,a){e.exports=a(23)},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),l=a(1),s=a(7),i=Object(n.createContext)();function p(e){var t=e.children,a=Object(n.useState)(),o=Object(l.a)(a,2),c=o[0],s=o[1],p=Object(n.useMemo)((function(){return{dropped:c,setDropped:s}}),[c,s]);return r.a.createElement(i.Provider,{value:p},t)}function u(e){var t=e.id,a=e.path,o=Object(n.useContext)(i).setDropped,c=Object(n.useState)(0),p=Object(l.a)(c,2),u=(p[0],p[1],Object(n.useRef)(null)),d=Object(n.useRef)(null);return r.a.createElement("div",{className:"dragHome",ref:u},r.a.createElement(s.a.div,{drag:!0,layout:!0,className:"draggable",ref:d,dragMomentum:!1,onDragStart:function(e,t){if(d.current.parentElement===u.current){var a=d.current,n=a.getBoundingClientRect(),r=n.left+window.scrollX,o=n.top+window.scrollY;a.style.top=o+"px",a.style.left=r+"px",document.body.append(a)}},onDragEnd:function(e,n){var r=d.current,c=r.getBoundingClientRect();r.style.top="0px",r.style.left="0px",r.style.transform="translate3d(0px, 0px, 0px) scale(1, 1)",u.current.append(r);var l=document.querySelector(".designCanvas").getBoundingClientRect(),s=c.top+window.scrollY-(l.top+window.scrollY),i=c.left+window.scrollX-(l.left+window.scrollX);o({id:Date.now(),imageId:t,path:a,frame:[i,s,1,0]})}},r.a.createElement("img",{style:{pointerEvents:"none"},"data-id":t,src:a,alt:a})))}var d=["DD_01.png","DD_02.png","DD_03.png","DD_04.png","DD_05.png","DD_06.png","DD_07.png","DD_08.png","DD_09.png","DD_10.png","DD_11.png","DD_12.png","DD_13.png","DD_14.png","DD_15.png","DD_16.png","DD_17.png","DD_18.png","DD_19.png","DD_20.png","DD_21.png","DD_22.png","DD_23.png","DD_24.png","DD_25.png","DD_26.png"],g=function(){return d.map((function(e,t){return{id:t,path:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/40041/"+e}}))};function D(){var e=g();return r.a.createElement("div",{className:"designToolbox"},e.map((function(e){return r.a.createElement(u,{key:"DE_"+e.id,id:e.id,path:e.path})})))}var m=a(8),f=a(6);function b(e){var t=e.id,a=e.path,n=e.frame,o=e.set;return r.a.createElement("div",{className:"draggable",onClick:function(e){o(e.target)},style:{transform:"translate(".concat(n[0],"px, ").concat(n[1],"px) scale(").concat(n[2],", ").concat(n[2],") rotate(").concat(n[3],"deg)")},"data-frame":n},r.a.createElement("img",{style:{pointerEvent:"none"},src:a,alt:t}))}function v(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),s=Object(l.a)(c,2),p=s[0],u=s[1],d=Object(n.useState)(),g=Object(l.a)(d,2),D=g[0],v=g[1],E=Object(n.useContext)(i).dropped,_=a.map((function(e){return r.a.createElement(b,{key:e.id,id:e.id,path:e.path,frame:e.frame,set:u})}));Object(n.useEffect)((function(){E&&o((function(e){return[].concat(Object(m.a)(e),[E])}))}),[E]);var w=function(e,t){var a=e.target.dataset.frame.split(",").map((function(e){return parseFloat(e)})),n={translate:[a[0],a[1]],scale:[a[2],a[2]],rotate:a[3]};v(n),console.log(n,t),"drag"===t&&e.set(n.translate),"rotate"===t&&e.set(n.rotate),"scale"===t&&e.set(n.scale),e.dragStart&&e.dragStart.set(n.translate),e.target.parentNode.append(e.target),console.log(D)},h=function(e){v({translate:e.beforeTranslate?e.beforeTranslate:D.translate,scale:e.scale?e.scale:D.scale,rotate:e.beforeRotate?e.beforeRotate:D.rotate}),e.target.style.transform="translate(".concat(D.translate[0],"px, ").concat(D.translate[1],"px)")+" scale(".concat(D.scale[0],", ").concat(D.scale[1],")")+" rotate(".concat(D.rotate,"deg)")},j=function(e){e.target.setAttribute("data-frame","".concat(D.translate[0],",").concat(D.translate[1],",").concat(D.scale[0],",").concat(D.rotate))};return r.a.createElement("div",{className:"designCanvas"},r.a.createElement(f.a,{target:p,renderDirections:["nw","ne","w","e","sw","s","se"],edge:!1,zoom:1,origin:!1,padding:{left:0,top:0,right:0,bottom:0},draggable:!0,throttleDrag:0,onDragStart:function(e){return w(e,"drag")},onDrag:h,onDragEnd:j,scalable:!0,keepRatio:!0,throttleScale:0,onScaleStart:function(e){return w(e,"scale")},onScale:h,onScaleEnd:j,rotatable:!0,rotationPosition:"top",onRotateStart:function(e){return w(e,"rotate")},onRotate:h,onRotateEnd:j,pinchable:!0}),_)}function E(){return r.a.createElement("section",{className:"DesignSection"},r.a.createElement(p,null,r.a.createElement(v,null),r.a.createElement(D,null)))}a(22);var _=function(){return r.a.createElement(E,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.809b5fe3.chunk.js.map